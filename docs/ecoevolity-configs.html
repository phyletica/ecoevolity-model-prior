
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>The ecoevolity configs &#8212; Ecoevolity model prior experiments 0.1.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Sampling the model priors" href="sample-priors.html" />
    <link rel="prev" title="Project Tour" href="project-tour.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Ecoevolity model prior experiments</a></h1>



<p class="blurb">Experimenting with new comparative phylogeographical models</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=phyletica&repo=ecoevolity-model-prior&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="background.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="prerequisites.html">Before starting</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="project-tour.html">Project Tour</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">The ecoevolity configs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pairs-10-dpp-conc-2-0-2-71-time-1-0-0-05-yml"><code class="docutils literal notranslate"><span class="pre">pairs-10-dpp-conc-2_0-2_71-time-1_0-0_05.yml</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#pairs-10-pyp-conc-2-0-1-79-disc-1-0-4-0-time-1-0-0-05-yml"><code class="docutils literal notranslate"><span class="pre">pairs-10-pyp-conc-2_0-1_79-disc-1_0-4_0-time-1_0-0_05.yml</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#pairs-10-unif-sw-0-55-7-32-time-1-0-0-05-yml"><code class="docutils literal notranslate"><span class="pre">pairs-10-unif-sw-0_55-7_32-time-1_0-0_05.yml</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#fixed-pairs-10-independent-time-1-0-0-05-yml"><code class="docutils literal notranslate"><span class="pre">fixed-pairs-10-independent-time-1_0-0_05.yml</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#fixed-pairs-10-simultaneous-time-1-0-0-05-yml"><code class="docutils literal notranslate"><span class="pre">fixed-pairs-10-simultaneous-time-1_0-0_05.yml</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sample-priors.html">Sampling the model priors</a></li>
<li class="toctree-l1"><a class="reference internal" href="sim-analyses.html">Simulation-based analyses</a></li>
<li class="toctree-l1"><a class="reference internal" href="working-on-docs.html">Working on project docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="acknowledgments.html">Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="citation.html">Citation</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="zbib/references.html">Literature Cited</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="project-tour.html" title="previous chapter">Project Tour</a></li>
      <li>Next: <a href="sample-priors.html" title="next chapter">Sampling the model priors</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="the-ecoevolity-configs">
<span id="eco-configs"></span><h1>The ecoevolity configs<a class="headerlink" href="#the-ecoevolity-configs" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For a detailed treatment of <a class="reference external" href="http://phyletica.org/ecoevolity">ecoevolity</a> config files, please see
<a class="reference external" href="http://phyletica.org/ecoevolity/yaml-config.html">the config-file section of the ecoevolity documentation</a>.</p>
</div>
<p>The <a class="reference external" href="http://phyletica.org/ecoevolity">ecoevolity</a> configuration files in the <code class="docutils literal notranslate"><span class="pre">ecoevolity-configs</span></code> directory are core
to this project.
They specify the models that we will be using to simulate and analyze
genome-scale datasets.</p>
<p>By design, all of these configs are identical except for the prior on the
divergence events (<code class="docutils literal notranslate"><span class="pre">event_model_prior</span></code>).
Remember, the goal of the project is to compare different ways of modeling
shared divergence events.
Please see the <a class="reference internal" href="background.html#background"><span class="std std-ref">Background</span></a> section for some background information about
shared divergence events and the three different ways modelling them that we
will be comparing for this project.</p>
<p>Before we dig into the different models of divergence events, let’s first
look at some of the features that all of these configs have in common.</p>
<ol class="arabic simple">
<li><p>In the <code class="docutils literal notranslate"><span class="pre">comparisons</span></code> section, they all point to the same datasets for 10
pairs of populations.
Each of these datasets comprises 500,000 biallelic characters from 4
genomes (2 diploid individuals) sampled from 2 populations.
These are “dummy” datasets that live in the <code class="docutils literal notranslate"><span class="pre">data</span></code> directory of the
project.
I call them “dummy,” because they are intended to serve as a template from
which <code class="docutils literal notranslate"><span class="pre">simcoevolity</span></code> will simulate datasets of the same size.</p></li>
<li><p>The prior on divergence times (<code class="docutils literal notranslate"><span class="pre">event_time_prior</span></code>) is an exponential
distribution with mean of 0.05 (i.e., a mean of 5% divergent).</p></li>
</ol>
<p>Let’s take a look at the <code class="docutils literal notranslate"><span class="pre">event_model_prior</span></code> settings in each of the
configuration files.</p>
<div class="section" id="pairs-10-dpp-conc-2-0-2-71-time-1-0-0-05-yml">
<span id="dp-config"></span><h2><code class="docutils literal notranslate"><span class="pre">pairs-10-dpp-conc-2_0-2_71-time-1_0-0_05.yml</span></code><a class="headerlink" href="#pairs-10-dpp-conc-2-0-2-71-time-1-0-0-05-yml" title="Permalink to this headline">¶</a></h2>
<p>This config specifies a Dirichlet-process (DP) prior over all the ways that the
10 pairs of populations can share divergence times.
See the <a class="reference internal" href="background.html#dp-prior-on-divergence-models"><span class="std std-ref">Dirichlet-process prior</span></a> section for some background
about the DP.</p>
<p>The config file specifies a gamma distribution on the prior for the
concentration parameter of the DP, with a shape of 2 and a scale of 2.71.
So, rather than assume a specific value of the concentration parameter of the
DP, we are putting a prior on it (a hyperprior) to integrate over uncertainty
about the value of this parameter of the DP prior.</p>
<p>We can use the <code class="docutils literal notranslate"><span class="pre">dpprobs</span></code> tool of <a class="reference external" href="http://phyletica.org/ecoevolity">ecoevolity</a> to get a sense of the prior this
creates over the myriad ways that the 10 pairs of populations can share (or not
share) divergence times.</p>
<p>From the base directory of the project, enter the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bin</span><span class="o">/</span><span class="n">dpprobs</span> <span class="o">-</span><span class="n">n</span> <span class="mi">1000000</span> <span class="o">--</span><span class="n">shape</span> <span class="mf">2.0</span> <span class="o">--</span><span class="n">scale</span> <span class="mf">2.71</span> <span class="mi">1</span> <span class="mi">10</span>
</pre></div>
</div>
<p>Assuming the <a class="reference external" href="http://phyletica.org/ecoevolity">ecoevolity</a> tools were successfully installed to the projects <code class="docutils literal notranslate"><span class="pre">bin</span></code>
directory when we setup the project (see the <a class="reference internal" href="getting-started.html#setup-project"><span class="std std-ref">Setting up the project</span></a> section), you
should see output similar to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">======================================================================</span>
                               <span class="n">DPprobs</span>
              <span class="n">Simulating</span> <span class="n">Dirichlet</span> <span class="n">process</span> <span class="n">probabilities</span>

                               <span class="n">Part</span> <span class="n">of</span><span class="p">:</span>
                              <span class="n">Ecoevolity</span>
      <span class="n">Version</span> <span class="mf">0.3</span><span class="o">.</span><span class="mi">2</span> <span class="p">(</span><span class="n">testing</span> <span class="mi">932</span><span class="n">c358</span><span class="p">:</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">17</span><span class="n">T15</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="mi">08</span><span class="o">-</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="p">)</span>
<span class="o">======================================================================</span>

<span class="n">Process</span> <span class="o">=</span> <span class="n">Dirichlet</span>
<span class="n">Seed</span> <span class="o">=</span> <span class="mi">1020136828</span>
<span class="n">Number</span> <span class="n">of</span> <span class="n">samples</span> <span class="o">=</span> <span class="mi">1000000</span>
<span class="n">Number</span> <span class="n">of</span> <span class="n">elements</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">Concentration</span> <span class="o">~</span> <span class="n">gamma</span><span class="p">(</span><span class="n">shape</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">scale</span> <span class="o">=</span> <span class="mf">2.71</span><span class="p">)</span>
<span class="n">Discount</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">Mean</span> <span class="n">number</span> <span class="n">of</span> <span class="n">categories</span> <span class="o">=</span> <span class="mf">6.00467</span>
<span class="n">Sample</span> <span class="n">mean</span> <span class="n">number</span> <span class="n">of</span> <span class="n">categories</span> <span class="o">=</span> <span class="mf">5.50189</span>

<span class="n">Estimated</span> <span class="n">probabilities</span> <span class="n">of</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">categories</span><span class="p">:</span>
<span class="o">----------------------------------------------------------------------</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.020063</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.053345</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">511</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.096057</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">9330</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">4</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.142066</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">34105</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">5</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.17664</span>      <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">42525</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">6</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.185396</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">22827</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">7</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.16003</span>      <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">5880</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">8</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.106323</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">750</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">9</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.048465</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">45</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.011615</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="o">----------------------------------------------------------------------</span>

<span class="n">Runtime</span><span class="p">:</span> <span class="mi">0</span> <span class="n">seconds</span><span class="o">.</span>
</pre></div>
</div>
<p>This shows us that the prior mean number of divergence events across the 10
pairs of populations is approximately 5.5.
Under “Estimated probabilities of the number of categories”, it shows us the
approximate prior probabilities of there being
<img class="math" src="_images/math/8d005d2766acf169106e4423d30b637d1990c506.svg" alt="1, 2, 3, \ldots, 10"/>
divergence events among the pairs.
To the right of those probabilities, it also shows the number of different ways
the 10 pairs of populations can share each number of divergence events (e.g.,
there are 511 different ways we can assign the 10 pairs to 2 events).
So, there are many more possible divergence models for intermediate numbers of
events.</p>
<p>While this DP prior is favoring 6 divergence events <em>a priori</em>, it’s important
to keep in mind that it is <em>not</em> favoring any one of the divergence models with
6 events.
The prior probability of 6 events is approximately 0.185, but this is
distributed over 22,827 different models with 6 divergence events (i.e., 6
divergence-time parameters).</p>
</div>
<div class="section" id="pairs-10-pyp-conc-2-0-1-79-disc-1-0-4-0-time-1-0-0-05-yml">
<span id="pyp-config"></span><h2><code class="docutils literal notranslate"><span class="pre">pairs-10-pyp-conc-2_0-1_79-disc-1_0-4_0-time-1_0-0_05.yml</span></code><a class="headerlink" href="#pairs-10-pyp-conc-2-0-1-79-disc-1-0-4-0-time-1-0-0-05-yml" title="Permalink to this headline">¶</a></h2>
<p>This config specifies a Pitman-Yor process (PYP) prior over all the ways that
the 10 pairs of populations can share divergence times.
See the <a class="reference internal" href="background.html#pyp-prior-on-divergence-models"><span class="std std-ref">Pitman-Yor process prior</span></a> section for some background about
the PYP.</p>
<p>The config file specifies a gamma distribution on the prior for the
concentration parameter of the PYP, with a shape of 2 and a scale of 1.79.
For the prior on the discount parameter of the PYP it specifies a beta
distribution with an alpha of 1 and beta of 4.
Again, rather than assume values of these parameters we are putting hyperpriors
on them to integrate over uncertainty.</p>
<p>As for the DP, we can use the <code class="docutils literal notranslate"><span class="pre">dpprobs</span></code> tool of <a class="reference external" href="http://phyletica.org/ecoevolity">ecoevolity</a> to get a sense of the
prior this PYP creates over all the ways that the 10 pairs of populations can
share (or not share) divergence times.</p>
<p>From the base directory of the project, enter the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bin</span><span class="o">/</span><span class="n">dpprobs</span> <span class="o">-</span><span class="n">n</span> <span class="mi">1000000</span> <span class="o">--</span><span class="n">shape</span> <span class="mf">2.0</span> <span class="o">--</span><span class="n">scale</span> <span class="mf">1.79</span> <span class="o">--</span><span class="n">discount</span><span class="o">-</span><span class="n">alpha</span> <span class="mf">1.0</span> <span class="o">--</span><span class="n">discount</span><span class="o">-</span><span class="n">beta</span> <span class="mf">4.0</span> <span class="mi">1</span> <span class="mi">10</span>
</pre></div>
</div>
<p>You should see output similar to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">======================================================================</span>
                               <span class="n">DPprobs</span>
              <span class="n">Simulating</span> <span class="n">Dirichlet</span> <span class="n">process</span> <span class="n">probabilities</span>

                               <span class="n">Part</span> <span class="n">of</span><span class="p">:</span>
                              <span class="n">Ecoevolity</span>
      <span class="n">Version</span> <span class="mf">0.3</span><span class="o">.</span><span class="mi">2</span> <span class="p">(</span><span class="n">testing</span> <span class="mi">932</span><span class="n">c358</span><span class="p">:</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">17</span><span class="n">T15</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="mi">08</span><span class="o">-</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="p">)</span>
<span class="o">======================================================================</span>

<span class="n">Process</span> <span class="o">=</span> <span class="n">Pitman</span><span class="o">-</span><span class="n">Yor</span>
<span class="n">Seed</span> <span class="o">=</span> <span class="mi">1068578483</span>
<span class="n">Number</span> <span class="n">of</span> <span class="n">samples</span> <span class="o">=</span> <span class="mi">1000000</span>
<span class="n">Number</span> <span class="n">of</span> <span class="n">elements</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">Concentration</span> <span class="o">~</span> <span class="n">gamma</span><span class="p">(</span><span class="n">shape</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">scale</span> <span class="o">=</span> <span class="mf">1.79</span><span class="p">)</span>
<span class="n">Discount</span> <span class="o">~</span> <span class="n">beta</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">Mean</span> <span class="n">number</span> <span class="n">of</span> <span class="n">categories</span> <span class="o">=</span> <span class="mf">5.87019</span>
<span class="n">Sample</span> <span class="n">mean</span> <span class="n">number</span> <span class="n">of</span> <span class="n">categories</span> <span class="o">=</span> <span class="mf">5.49826</span>

<span class="n">Estimated</span> <span class="n">probabilities</span> <span class="n">of</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">categories</span><span class="p">:</span>
<span class="o">----------------------------------------------------------------------</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.023656</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.058365</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">511</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.101317</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">9330</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">4</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.142269</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">34105</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">5</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.170535</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">42525</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">6</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.172826</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">22827</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">7</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.149305</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">5880</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">8</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.105087</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">750</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">9</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.057015</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">45</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.019625</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="o">----------------------------------------------------------------------</span>

<span class="n">Runtime</span><span class="p">:</span> <span class="mi">1</span> <span class="n">seconds</span><span class="o">.</span>
</pre></div>
</div>
<p>By comparing the outputs for the DP and PYP, you will notice that the prior
probability distributions over the number of divergence events is quite
similar.
For example, they both have a prior mean of 5.5.
The hyperprior settings for the DP and PYP models were specifically chosen to
make them very similar.
Remember, our goal is to compare the performance of these models in estimating
shared divergence events.
If we compared DP and PYP models that placed wildly different priors over
divergence models, it would be difficult to interpret any differences in their
performance.</p>
</div>
<div class="section" id="pairs-10-unif-sw-0-55-7-32-time-1-0-0-05-yml">
<span id="uniform-config"></span><h2><code class="docutils literal notranslate"><span class="pre">pairs-10-unif-sw-0_55-7_32-time-1_0-0_05.yml</span></code><a class="headerlink" href="#pairs-10-unif-sw-0-55-7-32-time-1-0-0-05-yml" title="Permalink to this headline">¶</a></h2>
<p>This config specifies a uniform(-ish) prior with a “split weight” parameter
over all the ways that the 10 pairs of populations can share divergence times.
We will use SW to abbreviate this distribution.
See the <a class="reference internal" href="background.html#uniform-prior-on-divergence-models"><span class="std std-ref">Uniform prior</span></a> section for some background
about the SW.</p>
<p>The config file specifies a gamma distribution on the prior for the
split-weight parameter of uniform distribution, with a shape of 0.55 and a
scale of 7.32.
Once again, rather than assume a specific value, we are using a hyperprior to
integrate over uncertainty.</p>
<p>We can use the <code class="docutils literal notranslate"><span class="pre">swprobs</span></code> tool of <a class="reference external" href="http://phyletica.org/ecoevolity">ecoevolity</a> to get a sense of the prior this SW
prior creates over all the ways that the 10 pairs of populations can share (or
not share) divergence times.</p>
<p>From the base directory of the project, enter the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bin</span><span class="o">/</span><span class="n">swprobs</span> <span class="o">-</span><span class="n">n</span> <span class="mi">1000000</span> <span class="o">--</span><span class="n">shape</span> <span class="mf">0.55</span> <span class="o">--</span><span class="n">scale</span> <span class="mf">7.32</span> <span class="mi">1</span> <span class="mi">10</span>
</pre></div>
</div>
<p>This should produce output similar to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">======================================================================</span>
                               <span class="n">swprobs</span>
     <span class="n">Calculating</span> <span class="n">probabilities</span> <span class="n">under</span> <span class="n">the</span> <span class="n">split</span><span class="o">-</span><span class="n">weight</span> <span class="n">model</span> <span class="n">prior</span>

                               <span class="n">Part</span> <span class="n">of</span><span class="p">:</span>
                              <span class="n">Ecoevolity</span>
      <span class="n">Version</span> <span class="mf">0.3</span><span class="o">.</span><span class="mi">2</span> <span class="p">(</span><span class="n">testing</span> <span class="mi">932</span><span class="n">c358</span><span class="p">:</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">17</span><span class="n">T15</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="mi">08</span><span class="o">-</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="p">)</span>
<span class="o">======================================================================</span>

<span class="n">Prior</span> <span class="o">=</span> <span class="n">split</span><span class="o">-</span><span class="n">weighted</span> <span class="n">uniform</span>
<span class="n">Number</span> <span class="n">of</span> <span class="n">elements</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">Split</span> <span class="n">weight</span> <span class="o">~</span> <span class="n">gamma</span><span class="p">(</span><span class="n">shape</span> <span class="o">=</span> <span class="mf">0.55</span><span class="p">,</span> <span class="n">scale</span> <span class="o">=</span> <span class="mf">7.32</span><span class="p">)</span>
<span class="n">Seed</span> <span class="o">=</span> <span class="mi">2080907633</span>
<span class="n">Number</span> <span class="n">of</span> <span class="n">samples</span> <span class="o">=</span> <span class="mi">1000000</span>
<span class="n">Mean</span> <span class="n">number</span> <span class="n">of</span> <span class="n">categories</span> <span class="o">=</span> <span class="mf">5.50017</span>

<span class="n">Approximated</span> <span class="n">probabilities</span> <span class="n">of</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">categories</span><span class="p">:</span>
<span class="o">----------------------------------------------------------------------</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.0172824</span>    <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.06953</span>      <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">511</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.108496</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">9330</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">4</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.138439</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">34105</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">5</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.159231</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">42525</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">6</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.165719</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">22827</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">7</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.151055</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">5880</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">8</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.112674</span>     <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">750</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span>  <span class="mi">9</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.0604041</span>    <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">45</span><span class="p">)</span>
<span class="n">p</span><span class="p">(</span><span class="n">ncats</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.0171697</span>    <span class="p">(</span><span class="n">n</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="o">----------------------------------------------------------------------</span>

<span class="n">Runtime</span><span class="p">:</span> <span class="mi">1</span> <span class="n">seconds</span><span class="o">.</span>
</pre></div>
</div>
<p>This distribution also has a prior mean number of divergence events of
approximately 5.5.
By comparing this to the outputs for the DP and PYP, you will notice that the
prior probability distributions over the number of divergence events is quite
similar across all three.
Once again, this similarity is “by design,” because our goal is to compare
the utility of these different models.</p>
<p>The three models (DP, PYP, and SW) specified in the configs described above are
the ones that we will be using to analyze simulated datasets.
We are also interested in knowing how these three models perform when they are
all wrong.
To get at that, we have 2 more config files that we will use only to simulate
datasets.
These are described next.</p>
</div>
<div class="section" id="fixed-pairs-10-independent-time-1-0-0-05-yml">
<span id="independent-config"></span><h2><code class="docutils literal notranslate"><span class="pre">fixed-pairs-10-independent-time-1_0-0_05.yml</span></code><a class="headerlink" href="#fixed-pairs-10-independent-time-1-0-0-05-yml" title="Permalink to this headline">¶</a></h2>
<p>A major goal of this project is to compare the performance of the DP, PYP, and
SW models for inferring shared divergence events.
When biogeographers use these sorts of methods, they are often interested in
testing for synchronous divergences.
So, it is very important to know how these models behave when there are <em>no</em>
shared divergences; all the taxa diverged independently.
When all divergences are random, we don’t want our models to infer false
positives of shared events.</p>
<p>This config is the same in all other respects to the DP, PYP, and SW configs,
but it specifies that all 10 pairs of populations diverged independently (i.e.,
there were 10 divergence events).
We will use this config to simulate datasets for which we know there were no
shared divergence events.
We will analyze these data under the DP, PYP, and SW models to see which is
least likely to infer false positives.</p>
</div>
<div class="section" id="fixed-pairs-10-simultaneous-time-1-0-0-05-yml">
<span id="shared-config"></span><h2><code class="docutils literal notranslate"><span class="pre">fixed-pairs-10-simultaneous-time-1_0-0_05.yml</span></code><a class="headerlink" href="#fixed-pairs-10-simultaneous-time-1-0-0-05-yml" title="Permalink to this headline">¶</a></h2>
<p>This config is the same in all other respects to the DP, PYP, and SW configs,
but it specifies that all 10 pairs of populations diverged simultaneously
(i.e., there were 1 shared divergence events).
We will use this config to simulate datasets for which we know all 10
taxa co-diverged.
We will analyze these data under the DP, PYP, and SW models to see which is
most likely to correctly infer a single event.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
<div class="footer" role="contentinfo" align="center">
    <a href="https://github.com/phyletica/ecoevolity-model-prior">GitHub</a> &nbsp; | &nbsp; <a href="license.html">License</a> &nbsp; | &nbsp; <a href="citation.html">Citation</a> &nbsp; | &nbsp; <a href="https://groups.google.com/forum/#!forum/ecoevolity-users">User's Forum</a>
</div>

  </body>
</html>